--[[
    █▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀█
    █   🎮 سكربت TAS - النسخة الخارقة 2025 🎮   █
    █▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄█
]]

-- الخدمات
local Players     = game:GetService("Players")
local RunService  = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInput   = game:GetService("UserInputService")
local StarterGui  = game:GetService("StarterGui")
local VirtualUser = game:GetService("VirtualUser")
local Lighting    = game:GetService("Lighting")

-- اللاعب
local L = Players.LocalPlayer

-- ======= نظام الحماية المتطور =======
local function QuantumShield()
    -- تشفير الاتصالات
    getgenv().Encrypt = function(data)
        return (data:gsub('.', function(c)
            return string.char(bit32.bxor(c:byte(), 0x69))
        end))
    end
    -- فحص التلاعب
    RunService.Heartbeat:Connect(function()
        if not L.Character or script.Parent ~= L.PlayerGui then
            game:Shutdown()
        end
    end)
end

-- ======= أوضاع FPS المتعددة =======
local fpsMethods = {}
-- طريقة 1: خفض الجودة
fpsMethods[1] = function()
    settings().Rendering.QualityLevel = 1
    Lighting.GlobalShadows = false
    L.PlayerGui:SetCore("SendNotification", {Title="🚀 FPS Mode", Text="تم تطبيق خفض الجودة"})
end
-- طريقة 2: تعطيل الديكورات
fpsMethods[2] = function()
    game.Workspace.Terrain.Decoration = false
    L.PlayerGui:SetCore("SendNotification", {Title="🚀 FPS Mode", Text="تم تعطيل الديكورات"})
end
-- طريقة 3: ضبط الحد الأقصى للـFPS
fpsMethods[3] = function()
    setfpscap(999)
    L.PlayerGui:SetCore("SendNotification", {Title="🚀 FPS Mode", Text="تم ضبط حد FPS إلى 999"})
end
-- طريقة 4: تقليل قوة المحاكاة
fpsMethods[4] = function()
    sethiddenproperty(L, "SimulationRadius", 500)
    L.PlayerGui:SetCore("SendNotification", {Title="🚀 FPS Mode", Text="تم تقليل قوة المحاكاة"})
end
-- طريقة 5: تعطيل الظلال على الإضاءات
fpsMethods[5] = function()
    Lighting.ShadowSoftness = 0
    L.PlayerGui:SetCore("SendNotification", {Title="🚀 FPS Mode", Text="تم تعطيل نعومة الظلال"})
end

local currentFPS = 0
local function TurboMode()
    currentFPS = currentFPS + 1
    if currentFPS > #fpsMethods then currentFPS = 1 end
    fpsMethods[currentFPS]()
end

-- ======= أوضاع AFK المتعددة (10 طرق) =======
local afkMethods = {}
-- طريقة 1: محاكاة النقر
afkMethods[1] = function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new())
end
-- طريقة 2: التنقل العشوائي
afkMethods[2] = function()
    if L.Character then
        local hrp = L.Character:FindFirstChild("HumanoidRootPart")
        hrp.CFrame = hrp.CFrame * CFrame.new(math.random(-5,5),0,math.random(-5,5))
    end
end
-- طريقة 3: القفز الدوري
afkMethods[3] = function()
    if L.Character then
        local hum = L.Character:FindFirstChildOfClass("Humanoid")
        hum.Jump = true
    end
end
-- طريقة 4: الجلوس
afkMethods[4] = function()
    if L.Character then
        L.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Seated)
    end
end
-- طريقة 5: الدوران
afkMethods[5] = function()
    if L.Character then
        local hrp = L.Character:FindFirstChild("HumanoidRootPart")
        hrp.CFrame = hrp.CFrame * CFrame.Angles(0, math.rad(45), 0)
    end
end
-- طريقة 6: الرسائل العشوائية
afkMethods[6] = function()
    game:GetService("ReplicatedStorage"):WaitForChild("DefaultChatSystemChatEvents").SayMessageRequest:FireServer("AFK mode active", "All")
end
-- طريقة 7: تغيير الكاميرا
afkMethods[7] = function()
    if workspace.CurrentCamera then
        workspace.CurrentCamera.CFrame = workspace.CurrentCamera.CFrame * CFrame.new(0, math.sin(tick())*2, 0)
    end
end
-- طريقة 8: السير بحركة ثابتة
afkMethods[8] = function()
    if L.Character then
        local hum = L.Character:FindFirstChildOfClass("Humanoid")
        hum:Move(Vector3.new(1,0,1), false)
    end
end
-- طريقة 9: تنشيط آلية الأداة
afkMethods[9] = function()
    for _, tool in ipairs(L.Backpack:GetChildren()) do
        if tool:IsA("Tool") then tool:Activate() end
    end
end
-- طريقة 10: إعادة الانتعاش
afkMethods[10] = function()
    L:LoadCharacter()
end

local currentAFK = 0
local afkLoop = false
local function AntiBanSystem()
    afkLoop = not afkLoop
    if afkLoop then
        StarterGui:SetCore("SendNotification", {Title="🛌 AFK", Text="تم تفعيل وضع AFK"})
        spawn(function()
            while afkLoop do
                currentAFK = currentAFK + 1
                if currentAFK > #afkMethods then currentAFK = 1 end
                afkMethods[currentAFK]()
                wait(5)
            end
        end)
    else
        StarterGui:SetCore("SendNotification", {Title="🛌 AFK", Text="تم إيقاف وضع AFK"})
    end
end

-- ======= إنشاء واجهة المستخدم =======
local function CreateHUD()
    local GUI = Instance.new("ScreenGui")
    GUI.Name = "TAS_HUD"
    GUI.ResetOnSpawn = false

    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 250, 0, 300)
    MainFrame.Position = UDim2.new(0.05, 0, 0.1, 0)
    MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    MainFrame.BackgroundTransparency = 0.2
    MainFrame.BorderSizePixel = 0
    MainFrame.Parent = GUI

    -- دالة سحب النافذة
    local dragging, dragInput, dragStart, startPos
    local function update(input)
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                        startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
    MainFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    MainFrame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    UserInput.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)

    -- أزرار
    local buttons = {
        {Name = "FPS", Text = "🚀 توربو FPS"},
        {Name = "AFK", Text = "🛌 وضع AFK"},
    }

    for i, btnInfo in ipairs(buttons) do
        local btn = Instance.new("TextButton")
        btn.Name = btnInfo.Name
        btn.Text = btnInfo.Text
        btn.Size = UDim2.new(0.9, 0, 0, 40)
        btn.Position = UDim2.new(0.05, 0, 0, 10 + (i-1)*50)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 16
        btn.TextColor3 = Color3.new(1,1,1)
        btn.BackgroundColor3 = Color3.fromRGB(50,50,60)
        btn.BorderSizePixel = 0
        btn.Parent = MainFrame

        btn.MouseEnter:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {TextColor3 = Color3.fromRGB(0,255,255)}):Play()
        end)
        btn.MouseLeave:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {TextColor3 = Color3.new(1,1,1)}):Play()
        end)

        btn.MouseButton1Click:Connect(function()
            if btnInfo.Name == "FPS" then
                TurboMode()
            elseif btnInfo.Name == "AFK" then
                AntiBanSystem()
            end
        end)
    end

    GUI.Parent = L.PlayerGui
end

-- ======= تشغيل الأنظمة =======
QuantumShield()
CreateHUD()

-- إشعار جاهزية السكربت
StarterGui:SetCore("SendNotification", {Title="✅ TAS جاهز!", Text="تم تفعيل النسخة الخارقة بنجاح"})
